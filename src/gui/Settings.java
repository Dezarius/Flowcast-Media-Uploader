/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package gui;


import java.awt.Dimension;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.util.Arrays;
import javax.swing.*;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;
import javax.xml.bind.DatatypeConverter;

/**
 *
 * @author Kristof DinkgrÃ¤ve
 */
public class Settings extends JDialog implements ActionListener, KeyListener {
    
    JDialog popup;
    
    private char[] password;
    private String hex_pass = "89504E470D0A1A0A0000000D4948445200000040000000400806000000AA6971DE000000017352474200AECE1CE9000000097048597300000B1300000B1301009A9C180000015969545874584D4C3A636F6D2E61646F62652E786D7000000000003C783A786D706D65746120786D6C6E733A783D2261646F62653A6E733A6D6574612F2220783A786D70746B3D22584D5020436F726520352E342E30223E0A2020203C7264663A52444620786D6C6E733A7264663D22687474703A2F2F7777772E77332E6F72672F313939392F30322F32322D7264662D73796E7461782D6E7323223E0A2020202020203C7264663A4465736372697074696F6E207264663A61626F75743D22220A202020202020202020202020786D6C6E733A746966663D22687474703A2F2F6E732E61646F62652E636F6D2F746966662F312E302F223E0A2020202020202020203C746966663A4F7269656E746174696F6E3E313C2F746966663A4F7269656E746174696F6E3E0A2020202020203C2F7264663A4465736372697074696F6E3E0A2020203C2F7264663A5244463E0A3C2F783A786D706D6574613E0A4CC2275900001B26494441547801CD5B07785CD5953EEF4DD5CC6866A4D1489AD1A877C9B62CF78A65D31292C584E24048629B8D8D43367C219BC564D92F18C826B404B22C10BCE18B0384189BE08071C336EE96BBB1B17A2F3323697AEFEFED394F656DE332C24ABEBDFE9EDF9B57EEBDE7DC73FED3AE181867BBEFBEFB449B376F4ED0676BD6ACC90C0683D343A1D02499545AAC50283224128954A356731A4D9A37459932C0C7E39D6E9FAFEBA9A79E6AC64F7AF1E0E95B6A9B366D12353636F2EBD6ADE386EFFCE3FF67C633244E94A5C93EF2C823950E9BEDF14020F08D7028AC671806942A15A8D5A9A0C2735A7A3AE4E4E48021DB0019997AD06A34F4DC1B8BC79B5B9A9B8F9D3D75EAD3A79E79E6108EEDA5F1A9DF8686066694B1E399D38DBE9B340346895FBE7CF9035EB7E78F41BF5F667738C01FF0F3B8E88C5C2E0391480CC80B3C8B402A95416A6A2AE874E9505C5C0CD3A64F8782C242BC2F05BBDD0E16B3B9A7AFBFFFE3B367CFBEB361C38693A38C1839FFC3242229068C12BF6AD5AA991E97ABDEE57489AC83031189582253AA943CCB8AEAA512E969598AAC33452AF5886532648A44C9F08C1E092A08858345D67E73050ABF3EBFB0008A4B4B202F2F0FD4C820A7CBC52343B621335E7CF3CD370F0A0CA8AB13AFDBBF3F4ED77FEF9614037012F41EBF72F9CACDC180FFDEB6F6F688582C96A5A7A71D03967D74E7CE9DC20A5E6BB2274E9CC83E73E6CCD4A6A6A6258316CBED1E8F778A56AB01536E2E64666541241C018FCFFB97BEBEBEB51B376EECDB8458D3585D2DCCAFA1AA8AC7DF1CAADA187E5C6BACF13C4B860102F1C0F3CC430F3D54EFF37A67777474929EF74B65D2693B76ECB0E1800C82236BB3D918BD5E3F3649FABD7FFF7E12E74B449AE779C9BFFFE2D959E69EAEFB07879C7771899821D794C5E618731804542732F991D7DF7CF3FDCB092149ACAAAA62962D5B2680F0E5CFBFCAEF641800A32AB062C58A37A2A1F09A81C1416045EC477BF6EEBD6BF5EAD592F5EBD7C7AE35387DBF6811B08B17AF1B13EB35DF83CC782CB73C2BBBEC9B4E9FF2871DBDC1D4782C1E2B292D951068F20CF3B65A9BDE1E0DC76C882F6D0683FE3C2E00315B686441268211E362000260712C123D130E85D4C03256B3C55B7BFCF8DEC18B4DE3E80447CF3CBF49C430C32BB6F1CDD5C57CD4FE9D4038F10D4624AF91C874F2289F06760FCF0F3A238C13C1B1ADA585ABACAC62F2F3F318A59A54241F3C1E0FE098432CCBEE57A4A4BCF3D043CB3FA1FE479840D2352675A3E3267B4E8A01D4D928910FDEFFE01A868537C46211C4E3F1CDEFBEF7DE327A5E87C085E23EB6C2746F94F8471E59915D57C33DE976395670E26C15C7AA213DB314648A0C88F352484B4BC343034EA70BDE7BF71D686ABC00F3E6CE4F6466EAF9EA2953198D364D148984211A8D82CBE5069FD777442C13FD7CD5CA95644AC72494AEC7DB44C97E20382CB08E7DF5C2AB272BCACBC5A8F6374924E2EA8AF2CAC20B17BEF8A87BE54A8E98D0DDDD2DAC06EA39CB3093B8DDDB7EBF74E992DC8F72734CB7C834D5528E91C7594531D85C71E8375B9960C007D148140281208F8E14D0EAA373057D7DBDAC312787B5DB6C2C20C7D1C4F272B93C91AA5693F5C87739DD2BBF7EC73F31DBB76D45BEEF27678AA573B2F48CBE97B4048C7C40EF0B837C6BE9D2B52892CF295214100A470E8BF8C40FDFDFB2E502BD77EAD429C98C1933A0FEC0FB3FAD28D23EC72490C8B838EE720E88D2726F6578911606072DD0DCDC02CD2DAD100A06C86C32B1581C0C866C70BB5C70F4C861983279B26021F4D939A0D56A51EB1890C96478AD49C462315167570FB8DCAEB71FFDD19AE5342E321D0DC5F82C45D21240038C346202D3DCD272B8B0A8E8289AAF392972796D381E5B8D92215DB0705AE39A358F7A776CDDB076DECCAA5F07BD5608060389CED6E36263C5B799D4F402347901F0FA02488C1C9DA422F40972993FFDE9EDA13FBFFBB66DC78EEDF101F379892E2347A45028412A91802A5503DA3464808805313A5B8895AC46ADE1B3B332135EAFB7B66EF192EC9D3BB66D43E2C72D05EC2855E3389304F08409DBB76FDF7DA4F9E84C9BDDF67C24148EA333F41F967EF785F9F3176E9C5E53F91F014F2F8483435C6BD30191267729E8B28AC1E51882BE7E0B8A7C00386CE40C353634EC3E7860DF8ADADADADF2A55DA5D4DAD8E8E48240631D4790E4743D1C7D51DF63045C8041C073DD000239349443593AB137279CA9A57FEEBB555A8061C01E338688171BD7C71C78409C484D3474E873ABBBAF6E83333DF974A58F1B61DBB67BCF6CAD3B525797289DBD6C8DB862CACD99106B573EF019FDF87A23F0411246C4454D981016BE07BDFFBEEEDD8F7E981818113A61C836AF6ACD97769B56A652010E26B6AAA98E2923294A220A4A4A4086EB65870B5A5802AC3A4A76B412416312D2DAD73EEF8FAEDEFA059F68D070F10CCBE7A1B095E042708AFDBB1A727D73DF533D5E28593BEEF1DA84FA0A88B2E34344051ED8F516CE340B1C308F164412091481000C6BE73FFFDB7C6B9B80E3866BE52A1B805314FE1F204B968C8C248C53C110A22168170F4402940FC010461C4000FABCFC8881BB2B3F50D8D0D3FA63990B3942C555F45052EEF9B27463CF1C40FD3F0C16D5FBB79DE2D6CC201419F991D1CB2C3A04B05BA4C13F87C5E0887C3045424FA7430F17802121CA755A6A6FEA1B7ABE7790CA2EEF4FB7DC13F6D3DF7A93A25D83E7B7A31A3D264F1E836831C579F6119010730F6404940E380A048A6311289B2049ED8FF03B8FAAA1107292926DC90048C728254E1B9E7DE48AB993C79A12133C5E8B6B5F0D1688C696B6F0385761648A47214E110AE7A6284010981094400C38AB89A9A5AB6B8B8E4D8134FAC7D19FBEC5EF7AF8BEF9D3377D14D8CAA0A1CEE10A4E04AD36AD3AA8B4688A78893242891E0D00AF9596410AF4C51143637B7CFC03EF6E39CD864C2EB096180C904521CD454B770D234A534001E9799F7F9434C67572754CCBC0B7844325A299E17561E891F96022240A954B0FAAC6C983377CEACB67BEEF9059AC6A8421EAF95CAD3C0E1F2F332A984A1B09A987531F1C47C522BEA23168D914A716A8D9A1CA699C4008A43E89DEBB509614078D02AC7814CD93AA9311EB4402C120297270276A71B52D094A198431C274A8C18257E580D501250252877D0D4D4C2A6AA53AB494A9CEE3088C503BC5291C290FD47EB26104F6690A4800E7A8FB08198407882D71496037E534B44A3537449007635464C0803ECEE880C07D049450155D03700E108C778BC6134550EF418D891951F2696E386C57F9811C810640C058B29E805A237C89168AB5315AC4C2E6324624AB090178844E3312C0122418DE2F1182446888FC66202A6103355A9AA8C11629362C044802044625EEA47120AB858AFCF8FBF13108AC4211422F1C4F0006D38E9EAF0AA8F81E025BF691531C7C0CAA432568CCE8F800F5F22FEA2D51F215E587D6406720593163C994952C7A4DB8430C0EF0F90BE714E5720E170075102E282B8A38482D7EB116C37A1FF301346256094219C709F664CABCF12D2E341D717AFFCB0F88FAEBE20F228FE09C0101AA508179B0015FFA1C5F08F509F14064C08031C88F0D86236873F3838E4C3CC4E14D71C755BAE85AECE769060E4487A4BE27F91191C918061469089233B3F2AEA82AE8F88FDF03D5A7D664CE747C53F128B92E41018F2E170084A4B4BBA69326405E87CBD96D44BD7ED242089E23B01872B681FB27BC1E6F43362318359A312B8F0F91E548510A461FA0B4DE3650C185607148E3190233D1F25F8926B940852A161E023D4A7D5271C48A0AB2C03AFC7C390D4C4A3F17A9A2F32E07AD3169E4F0803120A3E88BDD93A7B3C5D3801CEE30D09E297A54F07A7B91111BE11724D39C20A92CE5E6A0938147512F9FF437AC1E32375B808F80813E85B5A79127D427F023F8C22092F78A7D329C26B87D3EDFC8C284306FCE340F0FCF9C1C8B48A8C81E62E471BB030A05189C0ED8BF099BA1428ABAE82BF6EFC1F41CF2B2BCA08E9717A3C4AC2B0E8D36487751F1D1D816052836195112400D5829843F811457D179840E68F901FEFA5A4C8C1EDF624B047F0793C1B9F7CF2492B128F59A8E4C2E2099100A4218E0B64C173C7C1633DE74B0AF47C34EC4229E0F8BCDC3C70F4ED86BF6DF910A5C02448028226D12D88F4B05D170F4B8120FE087E2344D333221E110E09179C9D310C2006A0A944F50A23F8BAC43D9D9DAE177FF3E20BD46F7575352A5572ED2B478397776FB507638BE794B2BB0EB6A5DE5637537F53DD1DFAE3270E00E60A18ADAE00767DF4329454DD0E73E6CC0687C30936BB03C1512C0018A5D728CEC7A80ECF78E07D2AB208F7F19A9C280A8D6318225330450735023E87C3C1F6F5F6C24B2FBDF028DEDA47ABFFFAEBAF2725FED4C7843180E6E3F4C643A5A5A5B237FEB843F2DD871ECB9E3ABD4E7DFEE4465E24C96434BA5C38F0D91E282CA981A9B5533129124613E9C3A488542096569A08170E6402A98598FC7F14AD61A287818F43D589462318F844E87B1ED3F4CCF1A3475E6E6D6BFDF53A4C8B8D87F8896600466591A84EA70CD8ED6ED95B6FEDE7EFBC639A490C5E452C16E531F9C9D81D363873EA34184C455054544499222142A45C20A5BA04A205091061002511244400CDF8B02BEDF3FBE1EC99B360B158B10EA9A642091B8E86CFBEFAEAEFEE2662D0FDA5D3B8DA444A000D8C652E77B0D00451B757933D7B727C86441456961417811897F2F7EB77A1CB1B07E74027C89519906DC8019BCD0E2D2D2DE4C7088555D26B023FF2EC28D06110078E1C3E04C150505093E79F7B0174193A28292EA6008B41BC90CC9DB3F8BDCF3EDBE5A39CE0D34F3F3D2E064C14088E0D8A6298E8EA07FF03DF9E9AA2D7EBF4B8FA90A9CF6024220ED2322450559A83E1AD039EFAF90FE0DC997A9836B51AEA16DD0436CC1DECDEBD1BDADBDA11D882B06DEB56D8F4978DC8189692AE70F8E0418C1C55B060E13CC04C315901F49D180E0BB3195A9D6A3E4D00C3DF71D333EE0FC628BDEA450305589ACA32632983EE815A9D866A1B81CEEE7ED06764C19DB71443559901BAFA82F0C9C687E1A55FAD85BE9E4E985C5D2698B8F68E0EA1672AB79F3B7F0EEC4343505E5101AD983D0E636DA0BCBC02AC0383C894102549480D28065872D5E95CE7C1843360A8A191821163A6862B0F7ACDA052CAC1EFF34073DB2094176740615E3A8A38C01D4BCAE05B773E087DDDA7E1EE7BEE832DEFBF0E464316B831FB138E44C068CCA16A10F474F7E0FE022DA8B15C46E9722AB5537204D19F2C0C4B9E21DABC5B50F2E4E3C9048DF265C219F0C1F60625765E306BE13D8685B7AF0243A682B15A6DD0DCE185C915591043E7A5B16D0816CF2F828AE234484FCB82DB174F4100F5A35F1023AF0E71C146612D646464407B47BBE03E575455C18075008C39462846001D4029402B41CB0F7EAF2F880C4925A228D6184F9B6806307E5E21C2EC48F0F957FF8249F353A731B6E33A7B6C98118E418E518B260D4110131E532AB32180E132E977AE5183A2DEC507FD5EC0420B8F25729E2A4139A65CC01D25F8AD1F4A4A4A91E801C401254C9A540DFDFD66728B99A0CFBDF289B53F9BA6D3E930F9404161721EE02893269A013CA6AF3D95B579C7DF7F77C38E9673DB07E2A014B9FC2C12A9E00B73D311E06290A6494111378279300E2A050F45683610F9191B568B74BA3446A9C0BD1588E8FAAC4CDE8284924460F1049915163C42CCFA527D90235F60C68CD9E45BC7C793091E259ECE13CD00EA33A0D1B09D00E24EAB9DE93E50DFDC80D9AAC0ECDA1CC66450F30E570845380FE42A2302A10BF24CD9909D6D8CBBDC5EAF63A8333167F68C707656561BBACB1EBD3E1333C751B061393E4D9B0659999982D92C2A2A44061A38DA6A8391E0376850F400C727FBF411B6BF0703D021E98E95E4A8FBB66CFF7CEFDA67B7ECD8B879BF7F666D3E28305B65190A4355753584134A309BBBB862F411D45A7DCB9E23D677BF68EE79ED372FBDF8DCBDF7DEFD5667677B0359829AE9D3E33D3DDD42D45756568645D33EC8D0EBA1A66632DBD6D6862536EF029416258A3E66C4784484F1B509C9095E6148AEDDEC1C2CCDD735E7185367A914928CE2E252888196F1A30A14154F02B3D50901F769C8CABE1BB180DB847DBCA310CB451F7CF0A1012B40B3FEB6E56F47B5E9DA16147365BA56BB8C7C0362D6A79FEE1682A5A9536B9803070EA383142E3A79F62CA5C20F8CF801E3DA3DF27791009C0CBF69D33AA6ADC7C1A1DE1694149944F94595BC1337C561D113F7061442578F954F4B53B0294A4D2CC6ABB6E2375D474F5FE8A8A8A868D468343B8F1FAFFF78D78E1D676DB6A176C40187D3E920DCC012798AB08F003D410601318E891074AC6475F83DE0F69CFF1F1240A24822F9F22F1F5CDADDD1765755F514D06614C2174D477187D814E05905B4369DE54B2A96A29190363EB07C75131180DFD0C98987C36432A5A3B757EE76BBA3418FB7C36AB1E8E6CF5FC0979616333D3D3DB070C17CA8AA2C67FAFAFAC937588CDF3CBD78F1E24B36685067D76B132E019B3609C908C9C7EFFE746D6DB5F1F99EEE13F229353379B154C70C0E98A1B86C0AEEF2F081A57B276732E1BE41592AA5B0C2B49B04CF04640298F5F7F7FB19466CB5F4F7C7A6CD9C196F6D6911922865A5A5D08BE12FED37AC9D361571A01D2D8277C6F9F3AD45442C3A44E3A2695C2FD300D76A34F8B2659B5396DDB5F08ECA8A925F60E517149A695C49D924C61B88402216846C631196C7CD100F3B584D7A1EBAB5CEFDD4E7E6CD97F68C52141B1830DB26D7D4C8E7CD9B57DDDEDA8AA2EF644CB92621820C04FC505951CE6004CAB9DC6EA5D73BB4907A58B468D1B8681AD7CB974EF16ABF34591D8D876A23614C56A0C99B3C751EABCB32C1109A327D762188E53ADC08D5C01B72CBD904CF7B7A07A227A9A7CB73780F3FFC700ADE4EBDF7DEFB2A4A4BCB349D6DED3CAE3CA3D1A8057368365B203F3F1FB7E41A39B3D98CA17598D400EAEAEA924E86D0FB13CA009400FE6B8BF3C5A75B21DED4D66F0F067D3075DA5CAC56A4C2A0B503F28B67A0BB0BD0DE789833E5CD012E1E3BF3D8638FA1CFF0650FAEB9B9390B6F176248AC20F777F6FC79FC17181C114A149714A31AF409A6B1B2B25C500387D371D3BE7DFB54E3358713CA009C1B9F9763A00DD0BD5D5DBD9E508883B2CAC9F89301AFB317720AAAC0DCD709BD9D7F05953A1D8324EF117C4826E3F2BC04535F5FAFCBC2F6CCBAA7BE3873F66C53DD9225EC89FA633CEE0C81025C792458C8299697973366B315CBEFBE42748CC81C8E2B2C9E500610FAAF7F7757F8CF7F78664665797E5594D7F17905658CCFE344DBCD60C223053A5A4EF298D11289C5527484ACFB69C2CB2E0700E4095A008BCBE5EAC6C7E18757FDE0AF668BA515F3DE4C6F770F4F5B6C0904490D8C866C2655AD8A539E31164B086A407D26DB268C01B43707C54FB1F1BDF52BBF76CBAC7FE96FFF10AAA7DD86393E190CF43743AA5A0789B01DCE9F3EC81B4C7369A354EFDE63273FA789A2037325BDB560C6E7333487B4F324D8DBDB732C439701E4FD51A35882B6ECD2F6FCA2C24294020B86D26E8101E3D9413A610C08F79CA012F9A4E21CC977583E04CD175A1395D59351652360E93A89A16D1638063BA1B1F1349F9999057C227272CB96130E9E17CCD6D5FC782B26598949819B6FBEB9AAA0301FEA8F1E15DEC51D62805221548A4A4A8AD8EE9E5E5429FF34DC715E4C0C4AD61C4E1803B69ED8476EB5E1D35DDBDD7DFDBDA0D0D7B1C64C25049D6DE0B277635243063D5D0D60EEEFC190570A2EA76D3F4D74F3E60664D2951B11814951253E551616149AE88F30EA0F1FC6F4D910683049823958C12B446960102C390C9B951EBF5F3087F84D52B425F5D295A777E9DDFEFE41A13EB8F75093E5ECD933B1DCA2A98C3A25C10FF435A087C7819809605AEB023A445A11CF45E3E8DB0A00D8D8B8F96AAB0FAFBDF69A627070B0104792E1E6CBBEBCFC02AC07469926CC111006A85414509985BF48C9CED2739460C54D574B46667625B5BA74D2F86BC21830797216B9A1CEF474956FC8E612E5E51A818FDB194B7F2BA8553208FBADF0F9B9163EC79041936CFCC56F0F0AEEEFBA75C39EDF97668637280FD0DADA1A267D7FF8E1D53B0F1E3A74AAEED6DB98CFCF7ECE471049E9AF512C562B3218F30DB9B92CA5CB7D1EEFC2C71F7F3C15A587187055E91A1D6FC218708BAB88064CCC9B5E52CE2578363B4BC1877C66B4FF3D90968A05436B1FB474DAB9348D1C270C82FB4B6E337E735509C06754433B61B1589AB18EC0AD7DFCDF3EC62A113A852D0CFED50A87BB45B138E28500D617480DDC6E175E870AB08A3C1DBF23E7EABAF45DF705EAE83A0DB337C0A029331CD9F9C20B3555869B5D9E109F81750B02BD40C00B29520E3ABA6C30680FE10E1011EABF7F1FF5F965EBF7A5918839563C0EF9FD2842D830F7779E52E81810315418A5FA212546D0345274C8D10E54636EBE91DE4506D0E99AED86198061AF0457347DE787CFFD6C4A45E6AD674E1FE54C461D2363DC40C18F50DA8A71D0DC6EE3550A298BABE38D25C22768569B365DD1FC5D69C2839999995DF820515C52AAD0A01F40C514F43B30EBAC82A1211B6DB4E233743A2C2C8B7C26439ED03FED66BD526717DFBB6106ECD973987CF6F9860CD5B77A3A9BA1A3C70FF94639A6B4BD601EF061F95A823BC64270E68B817869013930CCAE5FFEF7892E729A9071D79D204D16DF4D5CB870C13D63D62CE5B4DAA90B78F4A7CF9DFB1CC53D28002186CC5425E20A0A0A40A3D57EB26CD952F21D843FF1A3EFAFD56E98019FBCB3478D039463B6576DB545705B7C82D1AAE5B8C1312C6C7294CB447C4FBF9B93C84062CC529EC33CE0B3C313BA2E3E8DCD7BC182052AFC81409FA590CA6552DC4E0717CE7F2188BE0C375253FD1099C0661B0CE8702937D087E8982535C00D3320B7B48456D1FBFAFAB78E755BFC89EC4C3D6E8F017ED0EEC72C6E1C259E61FCC1089BAA947EBAF360DBEAF57F3EDD4A9891ECEA1331B8FA7A04C1A26DDBB606023EBFB3BA7A121CA93FCAF5F7F5E3DE40DA4320E610231864CE99AAF2F2BDF40D7A834999C1CB8310FA765CCD3CE88C559464327B0E75C95CF63EC5DC79334D3A8D18737E2E4C523268F3135C43ABF5F76FBC7DF2D97E8BB70D8129BA6C596352931B9D08C6FC4ACC135660C0234FCFC8E0D46A4DBE422E97A291634CA65C1E77A2C583A1106D91F9F5432B961F23B7FC2AEEF5689763E7A4C464ECEDAB5F686A2A8CB3CF355B6EF9E7EF2EF9E66D8B2655DA6D3DF847913EDBB946EBAF3ED8D6F4C18A1505F60D1BBA23D845527A7FD9500AFC3D0F81B06668688830478BE5B44A955251B3A86E710E9587F00F381C464361F54F7EB26A70185F922B90DCB0048C4C343A68F779F34DE9E27D871BF982DC74A3DB1BE9FDCFDFEDFD69639B7DEBBA75D5AE575E6923E2BF6AA33FCB1B42136741A00BA1BEC771E3D5C0B973E79A719FF0496D7A5A02A3CB4F9E58FB932DE43E636EF0AB30F9ABCE6DEC3B1677B4E789A429F7E29D1FE1B1000FF588B333F6D2045C48B00C96A33718F08FB624DFC7FEE6E2C1A26A4DD462DED014257A25646351D3387DBA51816EEE0D83EC356643C1976EEEDCB9E9B4EAD778EF9A8FFE1767A88A3F9C0C45240000000049454E44AE426082";
    
    private JPasswordField tf_password = new JPasswordField("");
    
    private JLabel lb_text = new JLabel("Password", JLabel.CENTER);
    private JLabel lb_icon = new JLabel(new ImageIcon(DatatypeConverter.parseHexBinary(this.hex_pass)));
    
    private JButton b_abbrechen = new JButton("Abbrechen");
    private JButton b_ok = new JButton("OK");
    
    public Settings(JFrame owner){
        super(owner, "Password", true);
        popup = this;
	popup.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
        popup.setMinimumSize(new Dimension(290,155));
        popup.setLocation((int) (owner.getLocation().getX() + ((owner.getSize().width - popup.getSize().width) / 2)), (int) (owner.getLocation().getY() + 72));
        popup.setResizable(true);
        
        SpringLayout sl_settings = new SpringLayout();
	popup.setLayout(sl_settings);
        
        sl_settings.putConstraint(SpringLayout.NORTH, this.lb_icon, 20, SpringLayout.NORTH , popup);
        sl_settings.putConstraint(SpringLayout.WEST, this.lb_icon, 20, SpringLayout.WEST , popup);
        popup.add(this.lb_icon);
        
        sl_settings.putConstraint(SpringLayout.NORTH, this.lb_text, 20, SpringLayout.NORTH , popup);
        sl_settings.putConstraint(SpringLayout.WEST, this.lb_text, 0, SpringLayout.WEST , this.tf_password);
        sl_settings.putConstraint(SpringLayout.EAST, this.lb_text, 0, SpringLayout.EAST , this.tf_password);
        popup.add(this.lb_text);
        
        sl_settings.putConstraint(SpringLayout.NORTH, this.tf_password, 20, SpringLayout.NORTH , this.lb_text);
        sl_settings.putConstraint(SpringLayout.WEST, this.tf_password, 20, SpringLayout.EAST , this.lb_icon);
        sl_settings.putConstraint(SpringLayout.EAST, this.tf_password, 0, SpringLayout.EAST , this.b_ok);
        popup.add(this.tf_password);
        
        sl_settings.putConstraint(SpringLayout.NORTH, this.b_abbrechen, 10, SpringLayout.SOUTH , this.lb_icon);
        sl_settings.putConstraint(SpringLayout.WEST, this.b_abbrechen, 0, SpringLayout.WEST , this.lb_icon);
        sl_settings.putConstraint(SpringLayout.EAST, this.b_abbrechen, ((popup.getSize().width - 40) / 2 - 1), SpringLayout.WEST , this.b_abbrechen);
        popup.add(this.b_abbrechen);
        
        sl_settings.putConstraint(SpringLayout.NORTH, this.b_ok, 0, SpringLayout.NORTH , this.b_abbrechen);
        sl_settings.putConstraint(SpringLayout.WEST, this.b_ok, 2, SpringLayout.EAST , this.b_abbrechen);
        sl_settings.putConstraint(SpringLayout.EAST, this.b_ok, ((popup.getSize().width - 40) / 2 - 1), SpringLayout.WEST , this.b_ok);
        popup.add(this.b_ok);
        
        this.b_abbrechen.addActionListener(this);
        this.b_ok.addActionListener(this);
        this.tf_password.addKeyListener(this);
    }
    
    public char[] getPassword(){
        return this.password;
    }
    
    public void actionPerformed(ActionEvent e) {
        Object o = e.getSource();
        this.password = null;
        if(o == this.b_ok) {
            if(this.tf_password.getPassword().length > 0){
                this.password = this.tf_password.getPassword();
                this.tf_password.setText("");
            }
            Settings.this.dispose();
        }
        else if(o == this.b_abbrechen) {
            this.tf_password.setText("");
            Settings.this.dispose();
        }
    }

    @Override
    public void keyTyped(KeyEvent e) {
        
    }

    @Override
    public void keyPressed(KeyEvent e) {
        Object o = e.getSource();
        if(e.getKeyCode() == KeyEvent.VK_ENTER) {
            this.password = null;
            if(this.tf_password.getPassword().length > 0){
                this.password = this.tf_password.getPassword();
                this.tf_password.setText("");
            }
            Settings.this.dispose();
        }
    }

    @Override
    public void keyReleased(KeyEvent e) {
        
    }

}
